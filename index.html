<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Recorrido 360° Turístico</title>
    <script src="https://aframe.io/releases/1.5.0/aframe.min.js"></script>
    <style>
        body { margin: 0; font-family: Arial, sans-serif; }
        /* Estilos del menú lateral */
        .menu-lateral {
            position: fixed;
            left: 20px;
            top: 50%;
            transform: translateY(-50%);
            z-index: 1000;
            background: rgba(0,0,0,0.8);
            padding: 15px;
            border-radius: 10px;
            min-width: 120px;
        }
        .menu-item {
            color: white;
            padding: 10px;
            margin: 5px 0;
            cursor: pointer;
            border-radius: 5px;
            transition: background 0.3s;
            text-align: center;
        }
        .menu-item:hover, .menu-item.active {
            background: rgba(255,255,255,0.2);
        }
        /* Resto de estilos (contador y flechas) */
        .image-counter {
            position: fixed;
            top: 20px;
            left: 50%;
            transform: translateX(-50%);
            z-index: 1000;
            background: rgba(0,0,0,0.7);
            color: white;
            padding: 10px 20px;
            border-radius: 5px;
            font-size: 16px;
        }
        .nav-button {
            position: fixed;
            top: 50%;
            transform: translateY(-50%);
            z-index: 1000;
            background: rgba(0,0,0,0.7);
            color: white;
            border: none;
            padding: 20px 15px;
            font-size: 24px;
            cursor: pointer;
            border-radius: 5px;
            transition: background 0.3s;
        }
        .prev-btn { left: 160px; } /* Ajustado para no solapar con el menú */
        .next-btn { right: 20px; }
        .nav-button:hover {
            background: rgba(0,0,0,0.9);
        }
        .location-title {
            position: fixed;
            top: 20px;
            left: 180px;
            color: white;
            background: rgba(0,0,0,0.7);
            padding: 10px 20px;
            border-radius: 5px;
            z-index: 1000;
        }
    </style>
</head>
<body>
    <div class="location-title" id="locationTitle">Caral</div>
    <div class="image-counter">
        <span id="current-image">1</span> / <span id="total-images">3</span>
    </div>
    
    <!-- Menú lateral -->
    <div class="menu-lateral">
        <div class="menu-item active" data-location="caral">Caral</div>
        <div class="menu-item" data-location="pachacamac">Pachacamac</div>
        <div class="menu-item" data-location="raqchi">Raqchi</div>
        <div class="menu-item" data-location="cusco">San Francisco de Cusco</div>
        <div class="menu-item" data-location="saqsaywaman">Saqsaywaman</div>
        <div class="menu-item" data-location="tipon">Tipón</div>
    </div>

    <!-- Botones de navegación -->
    <button class="nav-button prev-btn" id="prevBtn">‹</button>
    <button class="nav-button next-btn" id="nextBtn">›</button>

    <a-scene embedded style="height: 100vh;">
        <a-assets>
            <!-- Caral -->
            <img id="caral1" src="recorridos/caral1.png">
            <img id="caral2" src="recorridos/caral2.png">
            <img id="caral3" src="recorridos/caral3.png">
            
            <!-- Pachacamac -->
            <img id="pachacamac1" src="recorridos/pachacamac1.png">
            <img id="pachacamac2" src="recorridos/pachacamac2.png">
            
            <!-- Raqchi -->
            <img id="raqchi1" src="recorridos/Raqchi1.png">
            <img id="raqchi2" src="recorridos/Raqchi2.png">
            
            <!-- San Francisco de Cusco -->
            <img id="cusco1" src="recorridos/san_francisco1.png">
            <img id="cusco2" src="recorridos/san_francisco2.png">
            
            <!-- Saqsaywaman -->
            <img id="saqsaywaman1" src="recorridos/Saqsaywaman1.png">
            <img id="saqsaywaman2" src="recorridos/Saqsaywaman2.png">
            
            <!-- Tipón -->
            <img id="tipon1" src="recorridos/tipon1.png">
            <img id="tipon2" src="recorridos/tipon2.png">
        </a-assets>

        <a-sky id="panorama" src="#caral1"></a-sky>
        <a-camera wasd-controls="enabled: false" look-controls="enabled: true">
            <a-cursor color="white" opacity="0.8" scale="0.5 0.5 0.5"></a-cursor>
        </a-camera>
    </a-scene>

    <script>
        // Configuración de imágenes por ubicación
        const ubicaciones = {
            caral: ['caral1', 'caral2', 'caral3'],
            pachacamac: ['pachacamac1', 'pachacamac2'],
                    // ...continuación del script

        raqchi: ['raqchi1', 'raqchi2'],
        cusco: ['cusco1', 'cusco2'],
        saqsaywaman: ['saqsaywaman1', 'saqsaywaman2'],
        tipon: ['tipon1', 'tipon2'],
        // Puedes agregar más ubicaciones e imágenes aquí
    };

    // Nombres bonitos para mostrar en el título
    const nombresUbicaciones = {
        caral: "Caral",
        pachacamac: "Pachacamac",
        raqchi: "Raqchi",
        cusco: "San Francisco de Cusco",
        saqsaywaman: "Saqsaywaman",
        tipon: "Tipón"
    };

    let ubicacionActual = 'caral';
    let imagenActual = 0;

    // Elementos del DOM
    const panorama = document.querySelector('#panorama');
    const prevBtn = document.querySelector('#prevBtn');
    const nextBtn = document.querySelector('#nextBtn');
    const currentImageSpan = document.querySelector('#current-image');
    const totalImagesSpan = document.querySelector('#total-images');
    const menuItems = document.querySelectorAll('.menu-item');
    const locationTitle = document.getElementById('locationTitle');

    // Función para mostrar la imagen actual
    function mostrarImagen(index) {
        const imagenes = ubicaciones[ubicacionActual];
        if (index >= 0 && index < imagenes.length) {
            imagenActual = index;
            panorama.setAttribute('src', '#' + imagenes[imagenActual]);
            currentImageSpan.textContent = imagenActual + 1;
            totalImagesSpan.textContent = imagenes.length;
        }
    }

    // Función para cambiar de ubicación
    function cambiarUbicacion(nuevaUbicacion) {
        ubicacionActual = nuevaUbicacion;
        imagenActual = 0;
        locationTitle.textContent = nombresUbicaciones[ubicacionActual] || ubicacionActual;
        mostrarImagen(imagenActual);

        // Actualizar el menú visualmente
        menuItems.forEach(item => {
            if (item.getAttribute('data-location') === nuevaUbicacion) {
                item.classList.add('active');
            } else {
                item.classList.remove('active');
            }
        });
    }

    // Navegación por imágenes
    function siguienteImagen() {
        const imagenes = ubicaciones[ubicacionActual];
        const nextIndex = (imagenActual + 1) % imagenes.length;
        mostrarImagen(nextIndex);
    }

    function anteriorImagen() {
        const imagenes = ubicaciones[ubicacionActual];
        const prevIndex = (imagenActual - 1 + imagenes.length) % imagenes.length;
        mostrarImagen(prevIndex);
    }

    // Event listeners para los botones
    nextBtn.addEventListener('click', siguienteImagen);
    prevBtn.addEventListener('click', anteriorImagen);

    // Navegación con teclado
    document.addEventListener('keydown', function(event) {
        if (event.key === 'ArrowRight') {
            siguienteImagen();
        } else if (event.key === 'ArrowLeft') {
            anteriorImagen();
        }
    });

    // Menú de selección de ubicación
    menuItems.forEach(item => {
        item.addEventListener('click', function() {
            const location = this.getAttribute('data-location');
            cambiarUbicacion(location);
        });
    });

    // Inicializar la vista
    cambiarUbicacion(ubicacionActual);

    </script>
</body>
</html>
